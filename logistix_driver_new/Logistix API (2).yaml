openapi: 3.0.3
info:
  title: Logistix API
  version: 1.0.0
  description: API documentation for Logistix
paths:
  /api/booking/accept/:
    post:
      operationId: booking_accept_create
      description: |-
        API endpoint for drivers to accept a booking request.
        example Response:
        {
          "message": "Booking accepted successfully",
          "trip": {
            "id": 4,
            "driver": {
              "id": 2,
              "user": {
                "id": 3,
                "phone": 9876543210,
                "first_name": "Rohit",
                "last_name": "Singh",
                "profile_picture": "https://www.cnss.gov.lb/dino-imagem/Dinosaurs-Wallpapers-Wallpaper-Cave-14640281/"
              },
              "license_number": "fdkcnsxsx",
              "is_available": false,
              "average_rating": "5.00",
              "total_earnings": 0
            },
            "booking_request": {
              "id": 20,
              "sender_name": "Sender Name",
              "receiver_name": "Receiver Name",
              "sender_phone": "1234567890",
              "receiver_phone": "1234567890",
              "pickup_time": "2025-06-07T16:52:24.633000Z",
              "pickup_address": "Burari, Delhi",
              "dropoff_address": "Gurugram, Delhi",
              "goods_type": "Boxes",
              "goods_quantity": "20",
              "payment_mode": "CASH",
              "estimated_fare": 789,
              "status": "ACCEPTED",
              "created_at": "2025-06-07T17:02:13.652300Z",
              "updated_at": "2025-06-07T17:18:39.567662Z"
            },
            "status": "ACCEPTED",
            "loading_start_time": null,
            "loading_end_time": null,
            "unloading_start_time": null,
            "unloading_end_time": null,
            "payment_time": null,
            "final_fare": 789,
            "final_duration": null,
            "final_distance": null,
            "is_payment_done": false,
            "created_at": "2025-06-07T17:18:39.569873Z",
            "updated_at": "2025-06-07T17:18:39.569882Z"
          }
        }
      tags:
      - booking
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BookingAcceptRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BookingAcceptRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BookingAcceptRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BookingAccept'
          description: ''
  /api/booking/create/:
    post:
      operationId: booking_create_create
      description: API endpoint to create a new booking request.
      tags:
      - booking
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BookingRequestRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BookingRequestRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BookingRequestRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BookingRequest'
          description: ''
  /api/booking/detail/{booking_request_id}/:
    get:
      operationId: booking_detail_retrieve
      description: API endpoint to retrieve a booking request.
      parameters:
      - in: path
        name: booking_request_id
        schema:
          type: integer
        required: true
      tags:
      - booking
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BookingRequest'
          description: ''
  /api/booking/list/:
    get:
      operationId: booking_list_list
      description: API endpoint to retrieve a paginated list of booking requests.
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: page_size
        required: false
        in: query
        description: Number of results to return per page.
        schema:
          type: integer
      tags:
      - booking
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedBookingRequestList'
          description: ''
  /api/payments/wallet/balance/:
    get:
      operationId: payments_wallet_balance_retrieve
      description: Get the current balance of the authenticated user's wallet.
      summary: Get wallet balance
      tags:
      - payments
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  balance:
                    type: number
          description: ''
        '500':
          content:
            application/json:
              schema:
                description: Internal server error
          description: ''
  /api/payments/wallet/topup/:
    post:
      operationId: payments_wallet_topup_create
      description: Add funds to the authenticated user's wallet.
      summary: Topup wallet
      tags:
      - payments
      requestBody:
        content:
          type:
            schema:
              type: object
              additionalProperties: {}
              description: Unspecified request body
          properties:
            schema:
              amount:
                type: number
                description: Amount to add to wallet
              remarks:
                type: string
                description: Optional remarks for the transaction
          required:
            schema:
              type: object
              additionalProperties: {}
              description: Unspecified request body
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  balance:
                    type: number
                  wallet:
                    type: object
                    properties:
                      id:
                        type: integer
                      amount:
                        type: number
                      type_tx:
                        type: string
                      remarks:
                        type: string
                      created_at:
                        type: string
                        format: date-time
                      updated_at:
                        type: string
                        format: date-time
          description: ''
        '500':
          content:
            application/json:
              schema:
                description: Internal server error
          description: ''
  /api/payments/wallet/transactions/:
    get:
      operationId: payments_wallet_transactions_list
      description: Get paginated list of wallet transactions for the authenticated
        user with optional filtering by transaction type and time range.
      summary: Get wallet transactions
      parameters:
      - in: query
        name: end_time
        schema:
          type: string
          format: date-time
        description: 'End time for filtering transactions (ISO format: 2023-12-31T23:59:59Z).
          If not provided, current time is used when start_time is specified.'
      - in: query
        name: page
        schema:
          type: integer
        description: 'Page number for pagination (default: 1)'
      - in: query
        name: page_size
        schema:
          type: integer
        description: 'Number of transactions per page (default: 20, max: 100)'
      - in: query
        name: start_time
        schema:
          type: string
          format: date-time
        description: 'Start time for filtering transactions (ISO format: 2023-01-01T00:00:00Z)'
      - in: query
        name: transaction_type
        schema:
          type: string
        description: Filter transactions by type (e.g., CREDIT, DEBIT, TRIP_PAYMENT,
          etc.)
      tags:
      - payments
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedWalletTransactionList'
          description: ''
        '400':
          content:
            application/json:
              schema:
                description: Bad request - invalid parameters or time period > 1 year
          description: ''
        '500':
          content:
            application/json:
              schema:
                description: Internal server error
          description: ''
  /api/strategy/vehicle-estimates/:
    post:
      operationId: strategy_vehicle_estimates_create
      description: |-
        Get vehicle estimation quotes for the given stop locations.

        Request body:
        {
            "stop_locations": [
                {
                    "latitude": 12.9716,
                    "longitude": 77.5946
                },
                {
                    "latitude": 13.0827,
                    "longitude": 77.5877
                },
                {
                    "latitude": 13.1234,
                    "longitude": 77.6543
                }
            ]
        }

        Returns:
            List of vehicle estimation quotes with estimated fare and pickup reach time.
      tags:
      - strategy
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VehicleEstimationRequestRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/VehicleEstimationRequestRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/VehicleEstimationRequestRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VehicleEstimationRequest'
          description: ''
  /api/trip/detail/{trip_id}/:
    get:
      operationId: trip_detail_retrieve
      description: Retrieve details of a specific trip
      summary: Get trip details
      parameters:
      - in: path
        name: trip_id
        schema:
          type: integer
        required: true
      tags:
      - trip
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Trip'
          description: ''
        '404':
          content:
            application/json:
              schema:
                description: Trip not found
          description: ''
        '403':
          content:
            application/json:
              schema:
                description: Permission denied
          description: ''
  /api/trip/list/:
    get:
      operationId: trip_list_list
      description: Get paginated list of trips for the authenticated user. Use 'for_driver=true'
        to get trips where user is the driver, otherwise returns trips where user
        is the booking requester.
      summary: List user trips
      parameters:
      - in: query
        name: for_driver
        schema:
          type: boolean
        description: If true, return trips where user is the driver. If false/not
          provided, return trips where user is the booking requester.
      - in: query
        name: page
        schema:
          type: integer
        description: Page number for pagination
      - in: query
        name: page_size
        schema:
          type: integer
        description: Number of items per page (max 100)
      tags:
      - trip
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedTripList'
          description: ''
  /api/trip/update/{trip_id}/:
    post:
      operationId: trip_update_create
      description: Update a trip's status and details (driver only)
      summary: Update trip
      parameters:
      - in: path
        name: trip_id
        schema:
          type: integer
        required: true
      tags:
      - trip
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TripUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TripUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TripUpdateRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Trip'
          description: ''
        '400':
          content:
            application/json:
              schema:
                description: Bad request - validation error
          description: ''
        '403':
          content:
            application/json:
              schema:
                description: Permission denied
          description: ''
        '404':
          content:
            application/json:
              schema:
                description: Trip not found
          description: ''
    patch:
      operationId: trip_update_partial_update
      description: Partially update a trip's status and details (driver only)
      summary: Partially update trip
      parameters:
      - in: path
        name: trip_id
        schema:
          type: integer
        required: true
      tags:
      - trip
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedTripUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedTripUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedTripUpdateRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Trip'
          description: ''
        '400':
          content:
            application/json:
              schema:
                description: Bad request - validation error
          description: ''
        '403':
          content:
            application/json:
              schema:
                description: Permission denied
          description: ''
        '404':
          content:
            application/json:
              schema:
                description: Trip not found
          description: ''
  /api/users/driver/:
    post:
      operationId: users_driver_create
      description: API view for creating a new driver profile.
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DriverRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/DriverRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/DriverRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Driver'
          description: ''
  /api/users/driver/documents/:
    get:
      operationId: users_driver_documents_list
      description: |-
        API view for listing all documents for the authenticated driver.
        Supports filtering by document_type.
      tags:
      - users
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DriverDocument'
          description: ''
  /api/users/driver/documents/{id}/:
    get:
      operationId: users_driver_documents_retrieve
      description: API view for retrieving, updating, or deleting a specific document.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - users
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DriverDocument'
          description: ''
    put:
      operationId: users_driver_documents_update
      description: API view for retrieving, updating, or deleting a specific document.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DocumentUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/DocumentUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/DocumentUpdateRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DocumentUpdate'
          description: ''
    patch:
      operationId: users_driver_documents_partial_update
      description: API view for retrieving, updating, or deleting a specific document.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedDocumentUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedDocumentUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedDocumentUpdateRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DocumentUpdate'
          description: ''
    delete:
      operationId: users_driver_documents_destroy
      description: API view for retrieving, updating, or deleting a specific document.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - users
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/users/driver/documents/bulk-upload/:
    post:
      operationId: users_driver_documents_bulk_upload_create
      description: API view for uploading multiple documents for a driver in bulk.
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkDocumentUploadRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BulkDocumentUploadRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BulkDocumentUploadRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BulkDocumentUpload'
          description: ''
  /api/users/driver/documents/stats/:
    get:
      operationId: users_driver_documents_stats_retrieve
      description: API view for getting document statistics for the authenticated
        driver.
      tags:
      - users
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/users/driver/documents/upload/:
    post:
      operationId: users_driver_documents_upload_create
      description: API view for uploading a single document for a driver.
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DriverDocumentRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/DriverDocumentRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/DriverDocumentRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DriverDocument'
          description: ''
  /api/users/driver/profile/:
    get:
      operationId: users_driver_profile_retrieve
      description: API view for retrieving and updating driver profile.
      tags:
      - users
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Driver'
          description: ''
    put:
      operationId: users_driver_profile_update
      description: API view for retrieving and updating driver profile.
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DriverRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/DriverRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/DriverRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Driver'
          description: ''
    patch:
      operationId: users_driver_profile_partial_update
      description: API view for retrieving and updating driver profile.
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedDriverRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedDriverRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedDriverRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Driver'
          description: ''
  /api/users/login/:
    post:
      operationId: users_login_create
      description: API view for requesting OTP for login.
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OTPRequestRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OTPRequestRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OTPRequestRequest'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OTPRequest'
          description: ''
  /api/users/profile/:
    get:
      operationId: users_profile_retrieve
      description: API view for retrieving and updating user profile.
      tags:
      - users
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    put:
      operationId: users_profile_update
      description: API view for retrieving and updating user profile.
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    patch:
      operationId: users_profile_partial_update
      description: API view for retrieving and updating user profile.
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUserRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUserRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUserRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/users/token/refresh/:
    post:
      operationId: users_token_refresh_create
      description: |-
        Takes a refresh type JSON web token and returns an access type JSON web
        token if the refresh token is valid.
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
  /api/users/upload/:
    post:
      operationId: users_upload_create
      description: Upload a file and return its URL
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FileUploadRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/FileUploadRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/FileUploadRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FileUpload'
          description: ''
  /api/users/verify-otp/:
    post:
      operationId: users_verify_otp_create
      description: API view for verifying OTP and handling login or registration.
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OTPVerificationRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OTPVerificationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OTPVerificationRequest'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OTPVerification'
          description: ''
components:
  schemas:
    BookingAccept:
      type: object
      description: Serializer for accepting a booking request.
      properties:
        booking_request_id:
          type: integer
      required:
      - booking_request_id
    BookingAcceptRequest:
      type: object
      description: Serializer for accepting a booking request.
      properties:
        booking_request_id:
          type: integer
      required:
      - booking_request_id
    BookingRequest:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        trip_id:
          type: integer
          readOnly: true
          nullable: true
        sender_name:
          type: string
          maxLength: 100
        receiver_name:
          type: string
          maxLength: 100
        sender_phone:
          type: string
          maxLength: 100
        receiver_phone:
          type: string
          maxLength: 100
        pickup_time:
          type: string
          format: date-time
        goods_type:
          type: string
          maxLength: 100
        goods_quantity:
          type: string
          maxLength: 100
        payment_mode:
          $ref: '#/components/schemas/PaymentModeEnum'
        estimated_fare:
          type: number
          format: double
          readOnly: true
        status:
          allOf:
          - $ref: '#/components/schemas/BookingStatusEnum'
          readOnly: true
        instructions:
          type: string
        stop_points:
          type: array
          items:
            $ref: '#/components/schemas/StopPoint'
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - estimated_fare
      - goods_quantity
      - goods_type
      - id
      - pickup_time
      - receiver_name
      - receiver_phone
      - sender_name
      - sender_phone
      - status
      - trip_id
      - updated_at
    BookingRequestRequest:
      type: object
      properties:
        sender_name:
          type: string
          minLength: 1
          maxLength: 100
        receiver_name:
          type: string
          minLength: 1
          maxLength: 100
        sender_phone:
          type: string
          minLength: 1
          maxLength: 100
        receiver_phone:
          type: string
          minLength: 1
          maxLength: 100
        pickup_time:
          type: string
          format: date-time
        vehicle_type_id:
          type: integer
          writeOnly: true
        goods_type:
          type: string
          minLength: 1
          maxLength: 100
        goods_quantity:
          type: string
          minLength: 1
          maxLength: 100
        payment_mode:
          $ref: '#/components/schemas/PaymentModeEnum'
        instructions:
          type: string
          minLength: 1
        stop_points:
          type: array
          items:
            $ref: '#/components/schemas/StopPointRequest'
      required:
      - goods_quantity
      - goods_type
      - pickup_time
      - receiver_name
      - receiver_phone
      - sender_name
      - sender_phone
      - vehicle_type_id
    BookingStatusEnum:
      enum:
      - REQUESTED
      - SEARCHING
      - ACCEPTED
      - CANCELLED
      - DRIVERS_NOT_FOUND
      type: string
      description: |-
        * `REQUESTED` - Requested
        * `SEARCHING` - Searching for Driver
        * `ACCEPTED` - Accepted by Driver
        * `CANCELLED` - Cancelled
        * `DRIVERS_NOT_FOUND` - Drivers Not Found
    BulkDocumentUpload:
      type: object
      description: Serializer for bulk document upload
      properties:
        documents:
          type: array
          items:
            type: object
            additionalProperties: {}
          description: List of documents to upload
          minItems: 1
      required:
      - documents
    BulkDocumentUploadRequest:
      type: object
      description: Serializer for bulk document upload
      properties:
        documents:
          type: array
          items:
            type: object
            additionalProperties: {}
          description: List of documents to upload
          minItems: 1
      required:
      - documents
    DocumentTypeEnum:
      enum:
      - LICENSE
      - VEHICLE_RC
      - INSURANCE
      - PAN_CARD
      - AADHAR_CARD
      - VEHICLE_PERMIT
      - POLLUTION_CERT
      - OTHER
      type: string
      description: |-
        * `LICENSE` - Driving License
        * `VEHICLE_RC` - Vehicle Registration Certificate
        * `INSURANCE` - Insurance Certificate
        * `PAN_CARD` - PAN Card
        * `AADHAR_CARD` - Aadhar Card
        * `VEHICLE_PERMIT` - Vehicle Permit
        * `POLLUTION_CERT` - Pollution Certificate
        * `OTHER` - Other
    DocumentUpdate:
      type: object
      description: Serializer for updating document details
      properties:
        document_number:
          type: string
          nullable: true
          maxLength: 50
        document_url:
          type: string
          format: uri
          maxLength: 200
        expiry_date:
          type: string
          format: date
          nullable: true
        notes:
          type: string
          nullable: true
      required:
      - document_url
    DocumentUpdateRequest:
      type: object
      description: Serializer for updating document details
      properties:
        document_number:
          type: string
          nullable: true
          maxLength: 50
        document_url:
          type: string
          format: uri
          minLength: 1
          maxLength: 200
        expiry_date:
          type: string
          format: date
          nullable: true
        notes:
          type: string
          nullable: true
      required:
      - document_url
    Driver:
      type: object
      description: Serializer for the Driver model
      properties:
        id:
          type: integer
          readOnly: true
        user:
          allOf:
          - $ref: '#/components/schemas/User'
          readOnly: true
        license_number:
          type: string
          maxLength: 20
        vehicle_type:
          type: integer
          nullable: true
        is_available:
          type: boolean
        is_verified:
          type: boolean
          readOnly: true
        fcm_token:
          type: string
          nullable: true
          maxLength: 255
        average_rating:
          type: string
          format: decimal
          pattern: ^-?\d{0,1}(?:\.\d{0,2})?$
          readOnly: true
        total_earnings:
          type: number
          format: double
          readOnly: true
        location:
          type: string
          readOnly: true
      required:
      - average_rating
      - id
      - is_verified
      - license_number
      - location
      - total_earnings
      - user
    DriverDocument:
      type: object
      description: Serializer for the DriverDocument model
      properties:
        id:
          type: integer
          readOnly: true
        document_type:
          $ref: '#/components/schemas/DocumentTypeEnum'
        document_type_display:
          type: string
          readOnly: true
        document_number:
          type: string
          nullable: true
          maxLength: 50
        document_url:
          type: string
          format: uri
          maxLength: 200
        expiry_date:
          type: string
          format: date
          nullable: true
        is_verified:
          type: boolean
          readOnly: true
        verified_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
        notes:
          type: string
          nullable: true
        is_expired:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - document_type
      - document_type_display
      - document_url
      - id
      - is_expired
      - is_verified
      - updated_at
      - verified_at
    DriverDocumentRequest:
      type: object
      description: Serializer for the DriverDocument model
      properties:
        document_type:
          $ref: '#/components/schemas/DocumentTypeEnum'
        document_number:
          type: string
          nullable: true
          maxLength: 50
        document_url:
          type: string
          format: uri
          minLength: 1
          maxLength: 200
        expiry_date:
          type: string
          format: date
          nullable: true
        notes:
          type: string
          nullable: true
      required:
      - document_type
      - document_url
    DriverRequest:
      type: object
      description: Serializer for the Driver model
      properties:
        license_number:
          type: string
          minLength: 1
          maxLength: 20
        vehicle_type:
          type: integer
          nullable: true
        is_available:
          type: boolean
        fcm_token:
          type: string
          nullable: true
          maxLength: 255
        latitude:
          type: number
          format: double
          writeOnly: true
        longitude:
          type: number
          format: double
          writeOnly: true
      required:
      - license_number
    FileUpload:
      type: object
      description: Serializer for file upload
      properties:
        file:
          type: string
          format: uri
          description: File to upload (PDF, images, videos)
        subfolder:
          type: string
          default: uploads
          description: 'Subfolder to store the file in (default: ''uploads'')'
          maxLength: 100
      required:
      - file
    FileUploadRequest:
      type: object
      description: Serializer for file upload
      properties:
        file:
          type: string
          format: binary
          description: File to upload (PDF, images, videos)
        subfolder:
          type: string
          minLength: 1
          default: uploads
          description: 'Subfolder to store the file in (default: ''uploads'')'
          maxLength: 100
      required:
      - file
    Location:
      type: object
      description: Serializer for location data
      properties:
        latitude:
          type: number
          format: double
        longitude:
          type: number
          format: double
      required:
      - latitude
      - longitude
    LocationRequest:
      type: object
      description: Serializer for location data
      properties:
        latitude:
          type: number
          format: double
        longitude:
          type: number
          format: double
      required:
      - latitude
      - longitude
    OTPRequest:
      type: object
      description: Serializer for requesting OTP
      properties:
        phone:
          type: string
          maxLength: 15
      required:
      - phone
    OTPRequestRequest:
      type: object
      description: Serializer for requesting OTP
      properties:
        phone:
          type: string
          minLength: 1
          maxLength: 15
      required:
      - phone
    OTPVerification:
      type: object
      description: Serializer for verifying OTP
      properties:
        phone:
          type: string
          maxLength: 15
        otp:
          type: string
          maxLength: 6
      required:
      - otp
      - phone
    OTPVerificationRequest:
      type: object
      description: Serializer for verifying OTP
      properties:
        phone:
          type: string
          minLength: 1
          maxLength: 15
        otp:
          type: string
          minLength: 1
          maxLength: 6
      required:
      - otp
      - phone
    PaginatedBookingRequestList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/BookingRequest'
    PaginatedTripList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/Trip'
    PaginatedWalletTransactionList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/WalletTransaction'
    PatchedDocumentUpdateRequest:
      type: object
      description: Serializer for updating document details
      properties:
        document_number:
          type: string
          nullable: true
          maxLength: 50
        document_url:
          type: string
          format: uri
          minLength: 1
          maxLength: 200
        expiry_date:
          type: string
          format: date
          nullable: true
        notes:
          type: string
          nullable: true
    PatchedDriverRequest:
      type: object
      description: Serializer for the Driver model
      properties:
        license_number:
          type: string
          minLength: 1
          maxLength: 20
        vehicle_type:
          type: integer
          nullable: true
        is_available:
          type: boolean
        fcm_token:
          type: string
          nullable: true
          maxLength: 255
        latitude:
          type: number
          format: double
          writeOnly: true
        longitude:
          type: number
          format: double
          writeOnly: true
    PatchedTripUpdateRequest:
      type: object
      description: Serializer for updating Trip model via API.
      properties:
        status:
          $ref: '#/components/schemas/StatusD09Enum'
        final_fare:
          type: number
          format: double
        final_duration:
          type: integer
          maximum: 2147483647
          minimum: 0
          nullable: true
          description: duration in minutes
        final_distance:
          type: string
          format: decimal
          pattern: ^-?\d{0,4}(?:\.\d{0,1})?$
          nullable: true
          description: distance in kilometers
        is_payment_done:
          type: boolean
        update_message:
          type: string
          minLength: 1
          description: Custom message for this update
    PatchedUserRequest:
      type: object
      description: Serializer for the User model
      properties:
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        profile_picture:
          type: string
          format: uri
          nullable: true
          maxLength: 200
        fcm_token:
          type: string
          nullable: true
          maxLength: 255
    PaymentModeEnum:
      enum:
      - CASH
      - WALLET
      type: string
      description: "* `CASH` - \n* `WALLET` - Wallet"
    StatusD09Enum:
      enum:
      - ACCEPTED
      - IN_PROGRESS
      - COMPLETED
      - CANCELLED
      type: string
      description: |-
        * `ACCEPTED` - Accepted by Driver
        * `IN_PROGRESS` - In Progress
        * `COMPLETED` - Completed
        * `CANCELLED` - Cancelled
    StopPoint:
      type: object
      description: Serializer for StopPoint model
      properties:
        id:
          type: integer
          readOnly: true
        location:
          type: string
          readOnly: true
        address:
          type: string
        stop_order:
          type: integer
          maximum: 2147483647
          minimum: 0
          description: Order of this stop in the trip sequence (0-indexed)
        stop_type:
          $ref: '#/components/schemas/StopTypeEnum'
        contact_name:
          type: string
          nullable: true
          maxLength: 100
        contact_phone:
          type: string
          nullable: true
          maxLength: 100
        notes:
          type: string
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - address
      - created_at
      - id
      - location
      - stop_order
      - updated_at
    StopPointRequest:
      type: object
      description: Serializer for StopPoint model
      properties:
        address:
          type: string
          minLength: 1
        stop_order:
          type: integer
          maximum: 2147483647
          minimum: 0
          description: Order of this stop in the trip sequence (0-indexed)
        stop_type:
          $ref: '#/components/schemas/StopTypeEnum'
        contact_name:
          type: string
          nullable: true
          maxLength: 100
        contact_phone:
          type: string
          nullable: true
          maxLength: 100
        notes:
          type: string
        latitude:
          type: number
          format: double
          writeOnly: true
        longitude:
          type: number
          format: double
          writeOnly: true
      required:
      - address
      - latitude
      - longitude
      - stop_order
    StopTypeEnum:
      enum:
      - PICKUP
      - DROPOFF
      - WAYPOINT
      type: string
      description: |-
        * `PICKUP` - Pickup Location
        * `DROPOFF` - Dropoff Location
        * `WAYPOINT` - Waypoint
    TokenRefresh:
      type: object
      properties:
        access:
          type: string
          readOnly: true
      required:
      - access
    TokenRefreshRequest:
      type: object
      properties:
        refresh:
          type: string
          writeOnly: true
          minLength: 1
      required:
      - refresh
    Trip:
      type: object
      description: Serializer for the Trip model.
      properties:
        id:
          type: integer
          readOnly: true
        driver:
          allOf:
          - $ref: '#/components/schemas/Driver'
          readOnly: true
        booking_request:
          allOf:
          - $ref: '#/components/schemas/BookingRequest'
          readOnly: true
        status:
          allOf:
          - $ref: '#/components/schemas/StatusD09Enum'
          readOnly: true
        final_fare:
          type: number
          format: double
          readOnly: true
        final_duration:
          type: integer
          readOnly: true
          nullable: true
          description: duration in minutes
        final_distance:
          type: string
          format: decimal
          pattern: ^-?\d{0,4}(?:\.\d{0,1})?$
          readOnly: true
          nullable: true
          description: distance in kilometers
        is_payment_done:
          type: boolean
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
        updates:
          type: array
          items:
            $ref: '#/components/schemas/TripUpdateModel'
          readOnly: true
        updates_count:
          type: string
          readOnly: true
        latest_update:
          type: string
          readOnly: true
      required:
      - booking_request
      - created_at
      - driver
      - final_distance
      - final_duration
      - final_fare
      - id
      - is_payment_done
      - latest_update
      - status
      - updated_at
      - updates
      - updates_count
    TripUpdateModel:
      type: object
      description: Serializer for the TripUpdate model.
      properties:
        id:
          type: integer
          readOnly: true
        trip:
          type: integer
          readOnly: true
        update_message:
          type: string
          description: Message describing the trip update
        created_by:
          type: integer
          readOnly: true
          nullable: true
          description: User who created this update (driver or customer)
        created_by_phone:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - created_by
      - created_by_phone
      - id
      - trip
      - update_message
    TripUpdateRequest:
      type: object
      description: Serializer for updating Trip model via API.
      properties:
        status:
          $ref: '#/components/schemas/StatusD09Enum'
        final_fare:
          type: number
          format: double
        final_duration:
          type: integer
          maximum: 2147483647
          minimum: 0
          nullable: true
          description: duration in minutes
        final_distance:
          type: string
          format: decimal
          pattern: ^-?\d{0,4}(?:\.\d{0,1})?$
          nullable: true
          description: distance in kilometers
        is_payment_done:
          type: boolean
        update_message:
          type: string
          minLength: 1
          description: Custom message for this update
      required:
      - final_fare
    User:
      type: object
      description: Serializer for the User model
      properties:
        id:
          type: integer
          readOnly: true
        phone:
          type: string
          readOnly: true
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        profile_picture:
          type: string
          format: uri
          nullable: true
          maxLength: 200
        fcm_token:
          type: string
          nullable: true
          maxLength: 255
      required:
      - id
      - phone
    UserRequest:
      type: object
      description: Serializer for the User model
      properties:
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        profile_picture:
          type: string
          format: uri
          nullable: true
          maxLength: 200
        fcm_token:
          type: string
          nullable: true
          maxLength: 255
    VehicleEstimationRequest:
      type: object
      description: Serializer for vehicle estimation request with multiple stop points
      properties:
        stop_locations:
          type: array
          items:
            $ref: '#/components/schemas/Location'
      required:
      - stop_locations
    VehicleEstimationRequestRequest:
      type: object
      description: Serializer for vehicle estimation request with multiple stop points
      properties:
        stop_locations:
          type: array
          items:
            $ref: '#/components/schemas/LocationRequest'
      required:
      - stop_locations
    WalletTransaction:
      type: object
      description: Serializer for WalletTransaction model.
      properties:
        id:
          type: integer
          readOnly: true
        amount:
          type: number
          format: double
        type_tx:
          type: string
          maxLength: 25
        remarks:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - id
      - type_tx
      - updated_at
  securitySchemes:
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
